/* ng-amd - v0.8.1 - 2013-10-20
* Copyright (c) 2013 ; Licensed  */
define([],function(){"use strict";function a(a){return a.split("|")}function b(a,b){return"function"==typeof b?b(a):b}function c(a,b,c){if(a+="",b+="",b.length<=0)return a.length+1;for(var d=0,e=0,f=c?1:b.length;;){if(e=a.indexOf(b,e),!(e>=0))break;d++,e+=f}return d}function d(a,b,d){var e,f,g=b.split("!"),h=a.split("/"),i=g[1];return h=h.slice(0,h.length-(d?0:1)).join("/"),i.indexOf("../")>-1&&(f=c(i,"../"),e=h.split("/"),h=e.slice(0,e.length-f).join("/"),i=(h?h+"/":"")+i.replace(/\.\.\//gi,"")),0===i.indexOf("./")&&(i=h+"/"+i.substring(2)),g[0]+"!"+i}function e(a,b){return-1!==a.indexOf(b,a.length-b.length)}function f(a){return"[object Array]"===Object.prototype.toString.apply(a)}function g(a){return"function"==typeof a}function h(){}function i(a){return{requires:[],animation:h,config:h,constant:h,controller:h,directive:h,factory:h,filter:h,provider:h,run:h,service:h,value:h,name:a}}var j,k,l=["Msxml2.XMLHTTP","Microsoft.XMLHTTP","Msxml2.XMLHTTP.4.0"],m=function(){throw new Error("Environment unsupported.")};"undefined"!=typeof process&&process.versions&&process.versions.node?(j=require.nodeRequire("fs"),m=function(a,b){b(j.readFileSync(a,"utf8"))}):"undefined"!=typeof window&&window.navigator&&window.document||"undefined"!=typeof importScripts?(k=function(){var a,b,c;if("undefined"!=typeof XMLHttpRequest)return new XMLHttpRequest;for(b=0;3>b;b+=1){c=l[b];try{a=new ActiveXObject(c)}catch(d){}if(a){l=[c];break}}if(!a)throw new Error("getXhr(): XMLHttpRequest not available");return a},m=function(a,b){var c=k();c.open("GET",a,!0),c.onreadystatechange=function(){4===c.readyState&&b(c.responseText)},c.send(null)}):"undefined"!=typeof Packages&&(m=function(a,b){var c,d,e="utf-8",f=new java.io.File(a),g=java.lang.System.getProperty("line.separator"),h=new java.io.BufferedReader(new java.io.InputStreamReader(new java.io.FileInputStream(f),e)),i="";try{for(c=new java.lang.StringBuffer,d=h.readLine(),d&&d.length()&&65279===d.charAt(0)&&(d=d.substring(1)),c.append(d);null!==(d=h.readLine());)c.append(g),c.append(d);i=String(c.toString())}finally{h.close()}b(i)});var n={serviceMap:{},parseParts:a,endsWith:e,normalizeModule:d,unwrapModule:b,count:c,isArray:f,fetchText:m,mockAngularModule:i,load:function(b,c,f,g){var h,j=a(b),k=j[0],l=j[1]||k,o=c.toUrl(k),p=!e(o,k);n.serviceMap[k]=k,g.isBuild?h=i(k):(h=angular.module(l,[]),h.dependencyName=k),m(c.toUrl(k+".js"),function(a){var b=a.match(/define\([\s\S]*?\[([\s\S]*?)\]/im);if(b&&b[1]){for(var e=b[1],g=e.replace(/['|"|\s|\n|\r]/gi,"").split(","),i=g.length-1;i>=0;i--){var j=g[i];if(-1===j.indexOf("ng-module!"))g.splice(i,1);else{var l=d(k,j,p);g[i]=l,h.requires.push(l.split("!")[1])}}c(g,function(){n.finishLoad(c,k,h,f)})}else n.finishLoad(c,k,h,f)})},finishLoad:function(a,b,c,d){a([b],function(a){g(a)&&a(c),d(c)})},normalize:function(b,c){for(var d=a(b),e=d.length-(d.length>1?2:1);e>=0;e--)d[e]=c(d[e]);return d.join("|")}};return n});