/* ng-amd - v0.8.1 - 2013-10-20
* Copyright (c) 2013 ; Licensed  */
define(["ng-module"],function(a){"use strict";var b=a.parseParts,c=a.unwrapModule,d=a.normalizeModule,e=a.endsWith,f={load:function(d,g,h,i){for(var j=b(d),k=j[0],l=j[1]||c(k,i.module)||"app",m=g.toUrl(k),n=!e(m,k),o=[k],p=j.length-2;p>=0;p--){var q=j.slice(0,p+1).join("/");if(a.serviceMap[q]){l=q;break}}g(o,function(a){f.finishLoad(k,l,g,n,a,h,i)})},finishLoad:function(b,c,e,f,g,h,i){var j;if(i.isBuild)return h(),void 0;j=angular.module(c);var k,l,m,n=a.isArray(g);if(n?(k=g[g.length-1],l=g.slice(0,g.length-1)):(k=g,l=g.$inject),k&&k.$get?m=void 0:"function"==typeof k&&(m=k,k=void 0),!k&&!m)throw new Error("Could not identify function or dependencies of module '"+b+"'");if(m&&!l)m(j),h(g);else if(l){for(var o=[],p=l.length-1;p>=0;p--){var q=d(b,"ng!"+l[p],f);n?g[p]=q.split("!")[1]:g.$inject[p]=q.split("!")[1];var r=l[p];r.indexOf("!")>-1?o.push(r):r.indexOf("/")>-1&&o.push(q)}e(o,function(){m&&l?j.factory(b,g):k&&l&&j.provider(b,g),h(g)})}else h(g)},normalize:function(a,c){for(var d=b(a),e=d.length-1;e>=0;e--)d[e]=c(d[e]);return d.join("|")}};return f});