/* ng-amd - v0.0.1 - 2013-09-18
* Copyright (c) 2013 ; Licensed  */
define([],function(){"use strict";function a(a){return a.split("|")}function b(a,b){return"function"==typeof b?b(a):b}function c(a,b,c){if(a+="",b+="",b.length<=0)return a.length+1;for(var d=0,e=0,f=c?1:b.length;;){if(e=a.indexOf(b,e),!(e>=0))break;d++,e+=f}return d}function d(a,b,d){var e,f,g=b.split("!"),h=a.split("/"),i=g[1];return h=h.slice(0,h.length-(d?0:1)).join("/"),i.indexOf("../")>-1&&(f=c(i,"../"),e=h.split("/"),h=e.slice(0,e.length-f).join("/"),i=(h?h+"/":"")+i.replace(/\.\.\//gi,"")),0===i.indexOf("./")&&(i=h+"/"+i.substring(2)),g[0]+"!"+i}function e(a,b){return-1!==a.indexOf(b,a.length-b.length)}function f(a){return"[object Array]"===Object.prototype.toString.apply(a)}function g(a){return"function"==typeof a}function h(){}function i(a){return{requires:[],animation:h,config:h,constant:h,controller:h,directive:h,factory:h,filter:h,provider:h,run:h,service:h,value:h,name:a}}var j,k=["Msxml2.XMLHTTP","Microsoft.XMLHTTP","Msxml2.XMLHTTP.4.0"],l=function(){throw new Error("Environment unsupported.")};("undefined"!=typeof window&&window.navigator&&window.document||"undefined"!=typeof importScripts)&&(j=function(){var a,b,c;if("undefined"!=typeof XMLHttpRequest)return new XMLHttpRequest;for(b=0;3>b;b+=1){c=k[b];try{a=new ActiveXObject(c)}catch(d){}if(a){k=[c];break}}if(!a)throw new Error("getXhr(): XMLHttpRequest not available");return a},l=function(a,b){var c=j();c.open("GET",a,!0),c.onreadystatechange=function(){4===c.readyState&&b(c.responseText)},c.send(null)});var m={serviceMap:{},parseParts:a,endsWith:e,normalizeModule:d,unwrapModule:b,count:c,isArray:f,fetchText:l,mockAngularModule:i,load:function(b,c,f,g){var h,i=a(b),j=i[0],k=i[1]||j,n=c.toUrl(j),o=!e(n,j);m.serviceMap[j]=j,h=angular.module(k,[]),h.dependencyName=j,l(c.toUrl(j+".js"),function(a){var b=a.match(/define\([\s\S]*?\[([\s\S]*?)\]/im);if(b&&b[1]){for(var e=b[1],g=e.replace(/['|"|\s|\n|\r]/gi,"").split(","),i=g.length-1;i>=0;i--){var k=g[i];if(-1===k.indexOf("ng-module!"))g.splice(i,1);else{var l=d(j,k,o);g[i]=l,h.requires.push(l.split("!")[1])}}c(g,function(){m.finishLoad(c,j,h,f)})}else m.finishLoad(c,j,h,f)})},finishLoad:function(a,b,c,d){a([b],function(a){g(a)&&a(c),d(c)})},normalize:function(b,c){for(var d=a(b),e=d.length-(d.length>1?2:1);e>=0;e--)d[e]=c(d[e]);return d.join("|")}};return m});